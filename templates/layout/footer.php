<?php
if (!defined('_CODE')) {
    die('Access denied...');
}
?>
<!-- FOOTER -->
<footer>
    <div class="list-item-footer">
        <div class="item-footer">
            <h3>Thời trang nam TORANO</h3>
            <span>
                Hệ thống thời trang cho phái mạnh hàng đầu Việt Nam,
                hướng tới phong cách nam tính, lịch lãm và trẻ trung.
            </span>
            <div class="list-icon-contact">
                <a href="#">
                    <div class="wrapper-icon-contact">
                        <box-icon type='logo' name='facebook'></box-icon>
                    </div>
                </a>
                <a href="#">
                    <div class="wrapper-icon-contact">
                        <box-icon name='twitter' type='logo'></box-icon>
                    </div>
                </a>
                <a href="#">
                    <div class="wrapper-icon-contact">
                        <box-icon name='instagram' type='logo'></box-icon>
                    </div>
                </a>
                <a href="#">
                    <div class="wrapper-icon-contact">
                        <box-icon name='tiktok' type='logo'></box-icon>
                    </div>
                </a>
                <a href="#">
                    <div class="wrapper-icon-contact">
                        <box-icon name='youtube' type='logo'></box-icon>
                    </div>
                </a>
            </div>
            <div class="payment-method">
                <p>Phương thức thanh toán</p>
                <div class="list-payment">
                    <img src="<?php echo _WEB_HOST_TEMPLATES; ?>/image/vnpay-logo-inkythuatso-01-13-16-26-42.jpg" alt="">
                    <img src="<?php echo _WEB_HOST_TEMPLATES; ?>/image/16823b123741383.60f52918409cc.jpg" alt="">
                    <img src="<?php echo _WEB_HOST_TEMPLATES; ?>/image/visa.jpg" alt="">
                </div>
            </div>
        </div>
        <div class="item-footer">
            <h3>Thông tin liên hệ</h3>
            <ul class="list-unstyled">
                <li>
                    <span><b>Địa chỉ:</b> Thôn Sơn Bình, xã Văn Quán, huyện Lập Thạch, tỉnh Vĩnh Phúc</span>
                </li>
                <li>
                    <span><b>Điện thoại:</b> 0967083126</span>
                </li>
                <li>
                    <span><b>Fax:</b> 0904636356c</span>
                </li>
                <li>
                    <span><b>Email:</b> duongvq392@gmail.com</span>
                </li>
            </ul>
            <div class="payment-method">
                <p>Phương thức vận chuyển</p>
                <div class="list-payment">
                    <img src="<?php echo _WEB_HOST_TEMPLATES; ?>/image/GHN.jpg" alt="">
                    <img src="<?php echo _WEB_HOST_TEMPLATES; ?>/image/aha.jpg" alt="">
                    <img src="<?php echo _WEB_HOST_TEMPLATES; ?>/image/jtexpress.jpg" alt="">
                </div>
            </div>
        </div>
        <div class="item-footer">
            <h3>Nhóm liên kết</h3>
            <ul class="">
                <li>
                    <span>Tìm kiếm</span>
                </li>
                <li>
                    <span>Giới thiệu</span>
                </li>
                <li>
                    <span>Chính sách đổi trả</span>
                </li>
                <li>
                    <span>Chính sách bảo mật</span>
                </li>
                <li>
                    <span>Tuyển dụng</span>
                </li>
                <li>
                    <span>Liên hệ</span>
                </li>
            </ul>
        </div>
        <div class="item-footer">
            <h3>Đăng ký nhận tin</h3>
            <span>Để cập nhật những sản phẩm mới, nhận thông tin ưu đãi đặc biệt và thông tin giảm giá khác.</span>
            <div class="subscribe d-flex align-items-center bg-white">
                <box-icon name='envelope'></box-icon>
                <input type="text" name="" id="" placeholder="Nhập email của bạn" class="border-0">
                <button type="submit" class="btn btn-primary">Đăng ký</button>
            </div>
            <img class=" ls-is-cached lazyloaded" data-src="//theme.hstatic.net/200000690725/1001078549/14/footer_logobct_img.png?v=614" src="//theme.hstatic.net/200000690725/1001078549/14/footer_logobct_img.png?v=614" alt="Bộ Công Thương">
        </div>
    </div>
    <div class="design-by">
        Copyright © 2024 Torano.
        <a href="https://web.facebook.com/profile.php?id=100052964461410" target="_blank">
            Powered by DuongVQ
        </a>
    </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js" integrity="sha512-HGOnQO9+SP1V92SrtZfjqxxtLmVzqZpjFFekvzZVWoiASSQgSr4cw9Kqd2+l8Llp4Gm0G8GIFJ4ddwZilcdb8A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script src="<?php echo _WEB_HOST_TEMPLATES; ?>/js/bootstrap.min.js"></script>
<script src="<?php echo _WEB_HOST_TEMPLATES; ?>/js/custom.js"></script>
<script>
    // Slide banner
    document.addEventListener("DOMContentLoaded", () => {
        const swiper = new Swiper('.banner .swiper-container', {
            loop: true,
            autoplay: {
                delay: 3000,
                disableOnInteraction: false,
            },
            speed: 800,
            effect: 'slide',
            fadeEffect: {
                crossFade: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            lazy: true,
        });
    });

    // Slide product-catalog
    const swiper = new Swiper('.product-catalog .swiper-container', {
        slidesPerView: 4,
        spaceBetween: 30,
        loop: true,
        navigation: {
            nextEl: '.catalog-next',
            prevEl: '.catalog-prev',
        },
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
    });

    // Slide product sale
    const swiper2 = new Swiper('.product-sale .swiper-container', {
        slidesPerView: 5,
        spaceBetween: 30,
        loop: true,
        navigation: {
            nextEl: '.sale-next',
            prevEl: '.sale-prev',
        },
        pagination: {
            el: '.swiper-pagination',
            clickable: true,
        },
    });

    // Tooltip====================================================================================
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function(tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })

    // Lấy tất cả các tab link và nội dung tab
    const tabLinks = document.querySelectorAll('.tab-link');
    const tabPanes = document.querySelectorAll('.tab-pane');

    // Thêm sự kiện click cho mỗi tab link
    tabLinks.forEach(link => {
        link.addEventListener('click', function() {
            // Xóa class 'active' khỏi tất cả các tab link
            tabLinks.forEach(link => link.classList.remove('active'));
            // Thêm class 'active' vào tab link được click
            this.classList.add('active');

            // Ẩn tất cả các tab pane
            tabPanes.forEach(pane => pane.classList.remove('active'));
            // Hiển thị tab pane tương ứng với tab link được click
            const tabId = this.getAttribute('data-tab');
            document.getElementById(tabId).classList.add('active');
        });
    }); // End tooltip============================================================================


    // Modal product==============================================================================
    document.addEventListener("DOMContentLoaded", function() {
        const quickViewButtons = document.querySelectorAll('.quick-view');

        quickViewButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Lấy dữ liệu từ data-* attributes
                const productName = this.getAttribute('data-name');
                const productImage = this.getAttribute('data-image');
                const productPrice = this.getAttribute('data-price');
                const productOldPrice = this.getAttribute('data-old-price');
                const productDiscount = this.getAttribute('data-discount');
                const productColors = JSON.parse(this.getAttribute('data-colors'));
                const productSizes = JSON.parse(this.getAttribute('data-sizes'));

                // Gán dữ liệu vào modal
                document.getElementById('modal-name').innerText = productName;
                document.getElementById('modal-image').src = productImage;
                document.getElementById('modal-price').innerText = productPrice + 'đ';
                document.getElementById('modal-old-price').innerText = productOldPrice + 'đ';
                document.getElementById('modal-discount').innerText = '-' + productDiscount + '%';

                // Tạo nút chọn màu sắc
                const colorsContainer = document.querySelector('#modal-colors .btn-group');
                colorsContainer.innerHTML = ''; // Xóa nội dung cũ
                productColors.forEach((color, index) => {
                    const colorButton = document.createElement('button');
                    colorButton.className = 'btn btn-outline-secondary';
                    colorButton.innerText = color;
                    colorButton.setAttribute('type', 'button');
                    colorButton.setAttribute('data-color', color);
                    if (index === 0) colorButton.classList.add('active'); // Đặt nút đầu tiên được chọn
                    colorButton.addEventListener('click', () => {
                        // Bỏ chọn các nút khác
                        colorsContainer.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                        colorButton.classList.add('active');
                    });
                    colorsContainer.appendChild(colorButton);
                });

                // Tạo nút chọn kích thước
                const sizesContainer = document.querySelector('#modal-sizes .btn-group');
                sizesContainer.innerHTML = ''; // Xóa nội dung cũ
                productSizes.forEach((size, index) => {
                    const sizeButton = document.createElement('button');
                    sizeButton.className = 'btn btn-outline-secondary';
                    sizeButton.innerText = size;
                    sizeButton.setAttribute('type', 'button');
                    sizeButton.setAttribute('data-size', size);
                    if (index === 0) sizeButton.classList.add('active'); // Đặt nút đầu tiên được chọn
                    sizeButton.addEventListener('click', () => {
                        // Bỏ chọn các nút khác
                        sizesContainer.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                        sizeButton.classList.add('active');
                    });
                    sizesContainer.appendChild(sizeButton);
                });

                // Gán dữ liệu vào modal
                document.getElementById("modalQuantity").value = 1; // Reset số lượng

                const minusBtn = document.querySelector(".btn-quantity-minus");
                const plusBtn = document.querySelector(".btn-quantity-plus");
                const quantityInput = document.getElementById("modalQuantity");

                // Xóa sự kiện cũ
                minusBtn.replaceWith(minusBtn.cloneNode(true));
                plusBtn.replaceWith(plusBtn.cloneNode(true));

                // Gắn sự kiện mới
                document.querySelector(".btn-quantity-minus").addEventListener("click", () => {
                    let currentValue = parseInt(quantityInput.value);
                    quantityInput.value = Math.max(1, currentValue - 1);
                });

                document.querySelector(".btn-quantity-plus").addEventListener("click", () => {
                    let currentValue = parseInt(quantityInput.value);
                    quantityInput.value = currentValue + 1;
                });

                // Hiển thị modal
                const quickViewModal = new bootstrap.Modal(document.getElementById('quickViewModal'));
                quickViewModal.show();
            });
        });
    });


</script>